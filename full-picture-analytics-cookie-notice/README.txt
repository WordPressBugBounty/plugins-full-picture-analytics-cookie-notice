=== Analytics & Privacy Toolkit - WP Full Picture ===
Contributors: chrisplaneta, freemius
Donate link: https://wpfullpicture.com/
Tags: woocommerce, consent mode, analytics, privacy, cookies
Requires at least: 5.4.0
Tested up to: 6.7.1
Stable tag: 8.1.2
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

All-in-1 privacy and analytics plugin. Install Google Analytics, Meta Pixel, GTM and other tools and use them according to privacy laws.

== Description ==

WP Full Picture makes it easy to install and setup popular tracking tools and use them according to privacy laws. It lets you:

1. **Effortlessly install tracking and marketing tools** like Google Analytics, Google Ads, Meta Pixel, Plausible, Hotjar, GTM and many more.
2. **Comply with GDPR, CNIL, PiPEDA** and other privacy regulations, with WP Full Picture's consent banner and a suite of other built-in solutions.
3. **Track important user interactions** like form submissions, affiliate link performance, WooCommerce events, and more.
4. **View detailed traffic and marketing reports** from Google Looker Studio (or similar platforms) directly within your WordPress admin panel.

## ‚öôÔ∏è HOW DOES IT WORK?

[youtube https://www.youtube.com/watch?v=_eFhGwNBH6w]


## üëå ALTERNATIVE TO...

WP Full Picture replaces multiple analytics and privacy plugins. This helps avoid conflicts between plugins and makes your workflow simpler and faster.

You can use WP FP instead of:

- plugins that install tracking tools, like PixelYourSite, Pixel Manager for WooCommerce, MonsterInsights and others,
- GTM4WP plugin - WP Full Picture includes its own Google Tag Manager integration and an alternative, lightweight Custom Scripts module,
- consent solutions - WP FP comes with a consent banner and other privacy solutions which seamlessly integrate with all your tracking tools.

## üîå INSTALL ANY TRACKING TOOL

WP Full Picture is a centralized hub for managing all your analytics tools. It comes with 16 ready-to-use integrations, powerful Google Tag Manager integration and an easy-to-use Custom Scripts module.

Ready-to-use integrations:

1. Google Analytics ([learn more](https://wpfullpicture.com/module/google-analytics-integration-for-wordpress/))
2. Google Ads ([learn more](https://wpfullpicture.com/module/google-ads/))
3. Microsoft Clarity ([learn more](https://wpfullpicture.com/module/microsoft-clarity/))
4. Microsoft Advertising ([learn more](https://wpfullpicture.com/module/microsoft-advertising/))
5. Meta Pixel (a.k.a Facebook Pixel) ([learn more]())
6. Matomo ([learn more](https://wpfullpicture.com/module/meta-pixel/))
7. PostHog ([learn more](https://wpfullpicture.com/module/posthog/))
8. Simple Analytics ([learn more](https://wpfullpicture.com/module/simple-analytics/))
9. Linked In Insight Tag ([learn more](https://wpfullpicture.com/module/linkedin-insight-tag/))
10. Plausible Analytics ([learn more](https://wpfullpicture.com/module/plausible-analytics/))
11. X Ads / Twitter Ads ([learn more](https://wpfullpicture.com/module/x-ads-twitter-ads/))
12. TikTok Pixel ([learn more](https://wpfullpicture.com/module/tiktok-pixel/))
13. Pinterest Conversion Tag ([learn more](https://wpfullpicture.com/module/pinterest-ads/))
14. Hotjar ([learn more](https://wpfullpicture.com/module/hotjar/))
15. Crazy Egg ([learn more](https://wpfullpicture.com/module/crazy-egg/))
16. Inspectlet ([learn more](https://wpfullpicture.com/module/inspectlet/))

Tag management solutions:

1. Google Tag Manager integration ([learn more](https://wpfullpicture.com/module/google-tag-manager/))
2. Custom Scripts module ([learn more](https://wpfullpicture.com/module/custom-scripts/))

## üõí WOOCOMMERCE TRACKING

We've integrated 14 tracking tools with WooCommerce - from Google Analytics and GTM to Hotjar and Matomo - so that you can gain deep insights into:

- **Sales performance:** Monitor important metrics like purchases, checkouts, items added to carts, and cart abandonment rates.
- **Customer behavior:** Use session recordings to watch how customers navigate through your product categories and pages.
- **Marketing performance:** Track how well your product campaigns are doing across different channels like Google Ads, Facebook Ads, and email marketing.

## üëÅÔ∏è CUSTOM TRACKING

With WP Full Picture, you can track more than what tracking tools give you by default. WP FP helps you track and send them detailed information on user actions and events:

- **WooCommerce:** Track what customers do, from viewing products and adding items to their carts to making purchases.
- **User interactions:** Track when people click or see specific page elements.
- **Affiliate marketing:** Keep track of how often your affiliate links are clicked to measure their effectiveness.
- **Form submissions:** See how often people fill out forms on your website, such as contact forms or registration forms.
- **Content engagement:** Understand user behavior by tracking things like how far they scroll, how long they are engaged with the content, what page elements and ads they see and click on.

## ü§ù PRIVACY COMPLIANCE

WP Full Picture includes a range of privacy features to help you follow rules like GDPR, PIPEDA, CNIL, and RODO.

- **GDPR Setup Helper:** View a detailed information on how to set up tracking so that it complies with GDPR
- **Consent Banner:** Show a banner to get user permission for tracking (compatible with Google's Consent Mode v2).
- **Iframes Manager:** Control the loading of YouTube videos, maps and other content from external websites which track your visitors.
- **Safe Fonts Module:** Replace Google Fonts with fonts that don't send data to Google's servers, protecting user privacy.
- **Tracking Tools Manager:** Manage tracking tools from other plugins and turn them off for users who don't agree to tracking.

## üìä IN-ADMIN TRAFFIC & MARKETING REPORTS

Easily see your website's traffic stats and marketing performance right from your WordPress admin dashboard.

Create reports with tools like Looker Studio, Databox, or other similar platforms, and view them directly in your WordPress admin area. Plus, if the platform you choose, has an app, then you can also check your reports on your phone. This makes it simple to keep track of visitor trends, marketing costs, and how well your campaigns are doing - all from one place.

## üíé WP FULL PICTURE PRO -  Advanced Analytics for Professional Marketers

WP Full Picture Pro is an advanced solution for businesses and marketing professionals. It comes with:

- **Lead scoring:** It lets you measure the effectiveness of your traffic sources, see how many people are on each stage of a customer journey and create powerful retargeting ad campaigns.
- **Advanced Triggers:** Allows you to track when multiple conditions are met, e.g. when a user behaves in a specific way.
- **Server-side tracking:** Prevents ad blockers from blocking your tracking tools.
- **Metadata tracking:** lets you track custom user, post and taxonomy data that is specific to your business.
- **Improved conversion tracking:** Send visitor data to tracking tools to more precisely attribute conversions to specific ad campaigns.
- **Improved tracking of traffic sources:** Lets Google Analytics and other tracking tools correctly recognize traffic from popular Android applications like Facebook or Pinterest.
- **Geolocation:** Helps you save money by stopping premium tracking tools from working in countries where you do not do business.

[Learn more](https://wpfullpicture.com/free-vs-pro/)

== Frequently Asked Questions ==

= Is WP Full Picture compatible with page builders? =

Yes. We tested it with Elementor, Bricks, Breakdance and saw no issues.

= Does WP Full Picture support WooCommerce and new WooCommerce blocks? =

Yes. Both classic WooCommerce elements and new blocks are supported in 14 different tools and Google Tag Manager.

WP Full Picture tracks events like purchases, checkouts, add-to-cart events, and more.

= Does WP Full Picture display statistics in the dashboard? =

Yes. WP Full Picture lets you display in your WP admin panel reports and dashboards created in Google Looker Studio, Databox and other similar services. 

These platforms allow you to create advanced reports with aggregated data from various analytics and marketing tools, Google spreadsheets and even WooCommerce data.

= Does WP Full Picture support Google's consent mode v2? =

Yes. Consent mode v2 is supported from version 7.1. It works with Google Analytics, Google Ads and GTM. You can enable it in the settings of the cookie notice / consent banner.

= Will I need a consent management plugin or platform (CookieBot, Iubenda, CookieYes, etc.) after I switch to WP Full Picture? =

In most cases, you will not need a different consent sollution. You will however need it if you display on your website ads from platforms like Google Adsense - they require FTC certification from a cookie managment solution and WP Full Picture does not have it at the moment.

= How does WP Full Picture's cookie notice block cookies?

WP Full Picture doesn't need to block cookies. Instead, it blocks scripts that install and use these cookies. The end result is the same, but the website works a little bit faster because it loads the tracking scripts only after the visitor agrees to cookies.

= Is WP Full Picture's cookie notice limited in any way? =

No. Unlike consent management platforms (CMPs), we don't limit the use of the notice in any way. It can be displayed unlimited number of times, on unlimited pages by unlimited number of visitors.

= Do I have to use the WP Full Picture's cookie notice? =

No you don't. All the modules can be used separately.

= I live in the EU, but I want to start tracking visitors right after they visit the page. Can I do this? =

Technically, you can. Legally you can't.

= Will my site comply with ALL privacy regulations just by using WP Full Picture? =

No. Privacy regulations cover many areas of business. WP Full Picture helps you handle only a part of it, so you still need to be aware and act accordingly to be fully compliant with the rest of them.

= I am using a different cookie notice. Can I keep using it? =

Yes you can. Please mind however that the vast majority of cookie notices do not comply with privacy regulations like GDPR or CCPA - even if they claim so! This is because they do not prevent loading cookies (or scripts that use them) before users agree to tracking.

= Can I translate texts in the cookie notice? =

Yes. WP Full Picture has been tested and works with multilingual plugins WPML and Polylang. It is possible that it also works with other plugins but we haven't tested them.

= Is WP FP compatible with caching plugins?

WP Full Picture is compatible with W3 Total Cache, WP-Optimize, WP Rocket, WP Fastest Cache, Breeze, Siteground Cache, WP Super Cache, Cache Enabler, Litespeed Cache, Comet Cache, Hummingbird, WP Engine ceche and Autoptimize. 

However, it is better to avoid combining, minifying or changing the order of JavaScript files used by the plugin. Some users experienced issues when their caching solution was set to do it.

In addition, we noticed that WP Multisite installations with LiteSpeed Cache plugin do not clear cache network-wide when the plugin is updated. In such case, cache needs to be cleared manually - visit every site in the network and click "purge cache" button.

= Is WP Full Picture incompatible with any plugins or themes? =

Yes. So far we have noticed that the plugin has problems with:

- OceanWP theme - Consent Banner settings do not show in the Theme Customizer
- Kubio theme - the theme uses CSS styles that makes WP FP's Consent Banner show in the center of the page instead of the screen. To fix it, please add to your website this custom CSS `body#kubio{transform: none !important;}`
- Vertice theme - the same problem and solution as above

= Does WP Full Picture generate product feeds for Google Shopping or Facebook? =

No. WP Full Picture is focused on tracking and privacy. To generate a product catalogue you can use one of many plugins from WordPress repository or cloud platforms.

== Screenshots ==

1. Install tracking and marketing tools
2. Track WooCommerce events
3. Track user actions
4. Comply with privacy laws
5. Check GDPR complaince status
6. View traffic and marketing reports in the admin panel

== Changelog ==

= 8.1.2 (26-11-2024) =

* [Other] Checked compatibility with latest WP version
* [Other] Added Black Friday deal info

= 8.1.1 (15-10-2024) =

* [Fix] A few minor fixes to the logic and texts of the GDPR setup helper
* [Fix] The page no longer refreshes when only Google's tools are loaded and visitors consent to only some cookies
* [Fix] [Woo] Orders from not logged clients are no longer tracked when they return to the "thank you" page
* [Removed] Removed checkbox with the "Administrator" role for excluded user roles - unnecessary, since admins are always excluded
* [Other] The name of the exported settings file now includes the site's domain
* [Other] Polish translation of the GDPR setup helper

= 8.1.0 (08-10-2024) =

* [New] Import/export of plugin settings
* [Removed] Adblock usage tracking - removed due to low accuracy

= 8.0.1 (01-10-2024) =

* [Fix] [Pro] Fixed PHP error when a user tried to enter secret key to consentsDB without registering it first
* [Fix] [Facebook] If user.id is missing, no external_id is set
* [Fix] [Woo] Semicolons are now removed from product titles and categories to prevent JSON parsing errors
* [Other] If OceanWP theme is active, then we disable the customizer controls for the Consent Banner and show in-admin notifications.


= 8.0.0 (24-09-2024) =

* [New] [Privacy] [Pro] [Beta] Saving consents in the cloud database
* [New] [Privacy] GDPR setup helper
* [New] [Pro] Lead scoring
* [New] WP Full Picture is now fully translated to Polish
* [New] [Plausible] Added an option to track properties as goals
* [New] [Plausible] [Pro] Custom events tracking
* [New] [Advanced Triggers] [Pro] Added new triggers
* [New] [Consent Banner] You can now add shortcodes and links to all paragraph texts in the banner
* [New] [Consent Banner] Added a new button "I agree only to statistics"
* [New] [Consent Banner] You can now display a button in the corner of the screen for toggling the display of the banner
* [New] [Server side tracking] [Pro] Added AJAX method of sending data to the server so you can choose between this and Rest API.
* [New] [Matomo] WP FP now automatically sends custom "add to cart", "remove from cart" and "purchase" events along the internal Matomo ecommerce events
* [New] Added a big list of common robots user agents
* [Update] [Plausible] Statistics page can now be added to menu without enabling the "Reports" module
* [Update] [Plausible] Events can now be tracked as either separate events without properties or one event with properties
* [Update] [UI] Improved UI for giving various permissions to non-admin users
* [Update] [Advanced Triggers] [Pro] Improved function for initiating advanced triggers in the JS of tracking modules
* [Update] [Advanced Triggers] [Pro] Trigger title is now clearly marked as "required"
* [Update] [Advanced Triggers] [Pro] Unified the moment of initiating action listeners between scripts of tracking modules
* [Update] [UI] User no longer needs to enter the privacy page URL in separate fields. It is now set to the same URL as in WP's Settings > Privacy
* [Update] Tracking views of specific page elements now also works for dynamically added elements
* [Update] Improved form tracking
* [Update] Information about the last observed element is now available in fpdata as a reference to the DOM object
* [Update] Optimisations in head-js.php
* [Update] [WooCommerce] Analytics tools are now loaded on the "Thank you" page even if it is not in focus
* [Update] [Privacy] Optional cookies saved by the plugin now wait for consents for statistics
* [Fix] [Advanced Triggers] [Pro] When no conditions are given the trigger always passes checks (previously it didn't)
* [Fix] Traffic from Line app is now attributed to line-android-app.jp and not line-android-app.js
* [Fix] [GA4 #2, MS Clarity] Applied new UI for tracking metadata
* [Fix] [Privacy] [Hotjar] Order ID is no longer tracked in privacy mode and if visitors didn't agree to tracking statistics
* [Fix] [Privacy] [Matomo] Cross-browser tracking requires consent to send user IDs
* [Fix] [Inspectlet] Consents to personalisation cookies is no lober required when A/B tests are disabled
* [Fix] [Privacy] [Matomo] When privacy mode is enabled, cross-borwser tracking is disabled until visitors agree to tracking in a consent banner
* [Fix] [Privacy] [Matomo] When privacy mode is enabled, order IDs are randomized
* [Fix] [Advanced triggers] [Pro] When "compare with" value is 0 then the field did not save
* [Fix] [GTM] When "protect datalayer" option was turned on, the option NOT to clear ecommerce data did not work
* [Fix] Fixed cross browser tracking in GA and Matomo
* [Fix] Single checkbox field threw errors when it was not used in the repeater field
* [Fix] [Crazy Egg] Outbound clicks now have correct tag names
* [Fix] Adblock checker sometimes didn't fire because the test file loaded before the DOM was ready
* [Fix] [Consent Banner] Creating links in descriptions didn't work correctly when the custom text was removed
* [Fix] Added a workaround to stop Google for WooCommerce plugin from overwriting consents
* [Fix] [Woo] No longer tracks clicks in "add to cart button on product teasers of products that cannot be purchased
* [Fix] [Woo] Settings that required Woo module and plugin, sometimes didn't get disabled when they should
* [Removed] [Advanced Triggers] [Pro] "Instant" action trigger (Replaced with "dom_loaded" trigger)
* [Other] Mark Advanced Triggers scripts as Premium only
* [Other] Min. required WP version is now 5.4
* [Other] [UI] Added a link to the "What's new" page with info on latest updates
* [Other] [UI] Added info on what consents are needed to run a script
* [Other] [CSS] Changed the class of a toggle switch from "fupi_slider" to "fupi_switch_slider"
* [Deprecated] fpdata.new_tab will be removed in 8.2 since there is no bulletproof solution to check it
* [Deprecated] adblock checks will be removed in 8.2 since its accuracy is very poor after adblock updates

= 7.5.1 (13-08-2024) =

* [Fix] [GAds] If the "AW-" prefix is missing before the ID, it is now automatically added
* [Fix] Removed unnecessary "nooptimize" comments that caused issues with the Greenshift "Woo blocks" addon
* [Fix] [Other] Improved loading the consent banner in customizer
* [Fix] [Consent Banner] Changed names of CSS and JS files so that they don't get blocked by the ad blockers
* [Fix] [Geolocation] Changing location with ?fp_set_country now works correctly
* [Fix] [Geolocation] [Pro] Gtag now waits for the geolocation info before it sends consents
* [Fix] [Geolocation] [Pro] Location was checked after initiating consent banner when it was in automatic mode
* [Other] Tested compatibility with WP 6.6.1
* [Other] Freemius SDK update

= 7.5.0 (07-05-2024) =

* [New] [Pro] [Metadata tracking] You can now track custom user and term metadata
* [New] [Pro] [Advanced Triggers] Added a "has HTML parent" rule
* [New] GA consents are now also sent for GAs installed with 3rd party tools
* [Update] Gtag scripts controlled with TTM will now load even when partial consents have been granted
* [Fix] Prevented double-triggering setting consents when GTM had "datalayer protection" disabled and GA module was enabled.

= 7.4.0 (25-04-2024) =

* [New] [Woo] You can now track products added to cart with a link parameter, e.g. example.com/?add-to-cart=prod_id
* [New] [Google Analytics] User actions can now be tracked as either separate events or events with parameters
* [New] [Google Analytics] You can now set the names of some event parameters
* [New] Added a URL parameter "?fp_set_country=X" for testing location-based privacy settings, e.g. example.com/?fp_set_country=DE
* [New] [Consent banner] Admins can specify what element should show/hide the banner on click
* [New] Added a fallback option to FP.getScript()
* [New] [Woo] WP FP now lets you push customer data to the DL
* [New] [Plausible] Option not to load tracking script so that WP FP will work as Plausible's plugin extension
* [Update] [Iframes Manager] Added checks to prevent returning empty HTML
* [Update] Better phone number normalization for Woo
* [Update] [TTL] Added a check that makes sure that no tracking script chosen from the list is double-blocked
* [Update] HTML tags are now stripped from product names to make sure that they don't cause issues inside WP FP's JS objects
* [Update] [i18n] Changed language domain to match WP.org slug
* [Other] Added a link to the WP FP docs in the info about WooCommerce tracking in the modules' settings
* [Other] Added more info about how "Protecting datalayer" option works
* [Other] Added explainer info to GTM about how it should be used
* [Fix] When ga4_debug param is added to URL the notice asked for consents on another pageview
* [Fix] [TTM] Double quotations of URL attributes in the script constructed with FP.getScript()
* [Fix] Geolocation was checked on every pageload even if it was already known
* [Fix] [TTM] Added a check to preg_replace_callback to make sure that there were no errors and the returned HTML is not null
* [Fix] [Google Analytics] Replaced space with an underscore in "email_link click" and "js error" event names
* [Other] Freemius SDK update
* [Other] You can now disable Consent Banner customisation section in the theme Customizer with a snippet "function fupi_disable_customizer(){};"

= 7.3.1 (12-03-2024) =

* [New] [Consent banner] Added url_passthrough option to GAds & GA
* [New] [Pro] IP address validation for server-side tracking
* [Update] [GTM] [Consent mode] Improved logic of consent mode for GTM
* [Fix] [Pro] Solution to Cloudflare\'s proxy tht made user IPs unusable for FB CAPI
* [Fix] [Pro] [Meta] [CAPI] The value of fbp cookie was sometimes not sent to the server, even though it was available
* [Fix] [Consent banner] On some sites, the theme's CSS of form labels impacted the styling of consent toggles
* [Fix] Obfuscating some post author names
* [Fix] [PostHog] Tracking script did not load when the user chose EU servers when setting up their PH account
* [Fix] [Woo] Option to show "order confirmation page seen" icon on the Orders page has been correctly marked as Pro feature

= 7.3.0 (04-03-2024) =

* [New] [Woo] [GAds] You can now track non-purchase Woo events as conversions
* [New] [Cookie Notice] Color picker for the switcher for necessary cookies
* [Updated] Consent mode logic improvement for gtag and GTM.
* [Updated] [Woo] [GAds] Added transaction_id to purchase tracking
* [Fix] [Woo] Teasers in modified HTML wrappers will no longer trigger errors
* [Fix] Shortcode fp_info did not display the tools list if Tracking Tools Manager or Custom Scripts module were enabled but not set up
* [Fix] [GTM] Static data is no longer sent before settings consents
* [Fix] [GTM] Added an event name to the push with static data
* [Fix] [Consent banner] Fixed a case of not working customizer controls under specific circumstances
* [Fix] Fn isAnchorLinkToCurrentPage no longer throws an error when links with very weird URLs are clicked
* [Removal] Parameter allow_ad_personalization_signals in GA4 (no longer necessary with consent mode)
* [Removal] Splitbee module
* [Other] [Consent Banner] Improved script creating optional headline text
* [Other] Small UI improvements

= 7.2.5 (28-02-2024) =

* [Fix] GTM consent mode did not run in a very specific situations

= 7.2.4 (27-02-2024) =

* [Fix] Posthog integration fix
* [Fix] [Custom Scripts] Disabling scripts is now correctly saved

= 7.2.3 (27-02-2024) =

* [New] Added an HTML field to custom script module
* [Fix] GTM data did not load

= 7.2.2 (26-02-2024) =

* [Update] Made jquery dependancy an experimental option
* [Fix] Tracking clicks in contact links - when users clicked phone or email links, full addresses/number were sent to some tracking tools. Now only parts of number or email addresses are sent
* [Fix] [Hotjar] [Woo] Hotjar tried to track checkouts and purchases even when the options for tracking them were disabled.

= 7.2.1 (20-02-2024) =

* [Fix] [Pro] Custom events tracking did not accept uppercase letters

= 7.2.0 (19-02-2024) =

* [Update] [UX/UI] Make all conditional settings that require other modules, to be visible but inactive
* [Fix] [Twitter] [Free] Remove code for sending email (it does not work in Free)
* [Other] Clicking the "account" link in WP admin will now redirect to website's account login page
* [Other] replaced a PO file with a POT file for translations

= 7.1.4 (11-02-2024) =

* [Fix] [Woo] When WooCommerce plugin was deactivated while WooCommerce Tracking module was active, all Gutenberg blocks disappeared

= 7.1.3 (09-02-2024) =

* [Fix] [Meta] Switch to enable enagagement time tracking did not show up

= 7.1.2 (08-02-2024) =

* [New] [Free] Added a button to the Pro pricing page
* [Fix] Tracking exclusion with a link

= 7.1.1 (07-02-2024) =

* [Fix] [Pro] Removed a piece of code that marked available features as Pro

= 7.1.0 (07-02-2024) =

* [New] Consent Mode v2 is now added to GTM
* [New] [Consent Banner] Consent banner can now be set to re-appear when a privacy policy is updated or new tracking tools are enabled
* [Update] [Privacy] Google's Consent Mode updated to v2
* [Update] [MS Clarity] Improved privacy / consent mode
* [Update] Simplified UX
* [Removed] Saving tasks in checklists
* [Removed] Hiding Pro settings in the free version